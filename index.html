<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Edu Mate — Interactive EdTech</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React + ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    .glass { background: rgba(255,255,255,0.03); }
    .card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
  </style>
</head>

<body class="bg-slate-900 text-slate-100">
  <div id="root"></div>

  <script type="text/babel">

  const { useState, useEffect } = React;

  // --- Sample Data ---
  const SAMPLE = {
    exams: [
      { key: 'jee', label: 'JEE (Engineering)' },
      { key: 'neet', label: 'NEET (Medical)' },
      { key: 'cuet', label: 'CUET (University)' },
      { key: 'nda', label: 'NDA (Defence)' },
      { key: 'uceed', label: 'UCEED (Design)' }
    ],
    subjects: {
      jee: ['Mathematics', 'Physics', 'Chemistry'],
      neet: ['Biology', 'Physics', 'Chemistry'],
      cuet: ['General', 'English', 'Domain'],
      nda: ['Physics_NDA', 'Maths_NDA', 'GS_NDA'],
      uceed: ['Drawing', 'Design_Basics', 'Maths_UCEED']
    },
    chapters: {
      Mathematics: [
        {
          id: 'm-q',
          title: 'Quadratic Equations',
          video: 'https://www.youtube.com/embed/5NWibE8esMs',
          difficulty: 'beginner',
          problems: [
            { q: 'Find the roots of x² - 3x + 2 = 0', ans: 'x = 1, 2' },
            { q: 'What is the sum of roots for x² + 4x + 4 = 0?', ans: '-4' }
          ]
        },
        {
          id: 'm-cg',
          title: 'Coordinate Geometry',
          video: 'https://www.youtube.com/embed/sERZmPQKtbw',
          difficulty: 'intermediate',
          problems: [
            { q: 'Find the distance between (1,2) and (4,6)', ans: '5' },
            { q: 'Equation of a circle with center (2,3) and radius 4?', ans: '(x-2)² + (y-3)² = 16' }
          ]
        }
      ],
      Physics: [
        {
          id: 'p-kin',
          title: 'Kinematics',
          video: 'https://www.youtube.com/embed/hY9zZrYuDVk',
          difficulty: 'beginner',
          problems: [
            { q: 'A ball starts at rest and accelerates at 3 m/s² for 2s. Final velocity?', ans: '6 m/s' },
            { q: 'Define displacement.', ans: 'Change in position of an object.' }
          ]
        },
        {
          id: 'p-dyn',
          title: 'Dynamics',
          video: 'https://www.youtube.com/embed/GLEZZdGwuXU',
          difficulty: 'advanced',
          problems: [
            { q: 'State Newton’s Second Law.', ans: 'F = ma' },
            { q: 'A 5kg mass is pushed with 20N. Acceleration?', ans: '4 m/s²' }
          ]
        }
      ],
      Chemistry: [
        {
          id: 'c-org',
          title: 'Organic Basics',
          video: 'https://www.youtube.com/embed/s0avnWG3nKY',
          difficulty: 'beginner',
          problems: [
            { q: 'IUPAC name of CH₄?', ans: 'Methane' },
            { q: 'Define homologous series.', ans: 'Series of compounds with same functional group.' }
          ]
        }
      ],
      Biology: [
        {
          id: 'b-phys',
          title: 'Human Physiology',
          video: 'https://www.youtube.com/embed/8qMEmWjt7zg',
          difficulty: 'intermediate',
          problems: [
            { q: 'Which organ pumps blood?', ans: 'Heart' },
            { q: 'Function of alveoli?', ans: 'Gas exchange in lungs.' }
          ]
        }
      ],
      Drawing: [
        {
          id: 'u-draw',
          title: 'Drawing',
          video: 'https://www.youtube.com/embed/C1TeAl5gdyk?si=SjjPvVL-7YatUw_X',
          difficulty: 'beginner',
          problems: [
            { q: 'What is perspective in drawing?', ans: 'Technique for depth.' },
            { q: 'Define shading.', ans: 'Representing light and shadow.' }
          ]
        }
      ],
      Design_Basics: [
        {
          id: 'u-design',
          title: 'Design Basics',
          video: 'https://www.youtube.com/embed/1hu74kSxohk?si=Np3l3SwAFG6bLNHC',
          difficulty: 'intermediate',
          problems: [
            { q: 'What is contrast in design?', ans: 'Difference in visual properties.' },
            { q: 'Define balance in design.', ans: 'Distribution of visual weight.' }
          ]
        }
      ],
      Maths_UCEED: [
        {
          id: 'u-maths',
          title: 'Maths',
          video: 'https://www.youtube.com/embed/uYQ-95hwlQc?si=1dG7bzteH_ljruQs',
          difficulty: 'advanced',
          problems: [
            { q: 'Solve: ∫x dx', ans: '½x² + C' },
            { q: 'Derivative of sin(x)?', ans: 'cos(x)' }
          ]
        }
      ],
      Physics_NDA: [
        {
          id: 'n-phys',
          title: 'Physics',
          video: 'https://www.youtube.com/embed/NHBFiqUA-kU?si=x4cXRT0_oWE84zuM',
          difficulty: 'intermediate',
          problems: [
            { q: 'What is SI unit of force?', ans: 'Newton' },
            { q: 'Define inertia.', ans: 'Resistance to change in motion.' }
          ]
        }
      ],
      Maths_NDA: [
        {
          id: 'n-maths',
          title: 'Maths',
          video: 'https://www.youtube.com/embed/_ZlyYXTPWmM?si=Mvh2c04JQTbAR80V',
          difficulty: 'advanced',
          problems: [
            { q: 'Find the value of 2³', ans: '8' },
            { q: 'What is the square root of 49?', ans: '7' }
          ]
        }
      ],
      GS_NDA: [
        {
          id: 'n-gs',
          title: 'General Studies',
          video: 'https://www.youtube.com/embed/dvQIflUe0Ok?si=N__G321dVgtpsLYy',
          difficulty: 'beginner',
          problems: [
            { q: 'Who is the President of India (2023)?', ans: 'Draupadi Murmu' },
            { q: 'Capital of Maharashtra?', ans: 'Mumbai' }
          ]
        }
      ]
    }
  };

  // --- Navbar ---
  function Navbar({ user, onLogout, theme, setTheme, onLogoClick }) {
    const [subscribed, setSubscribed] = React.useState(() => localStorage.getItem('edu_subscribed') === 'true');

    function handleSubscribe() {
      if (!subscribed) {
        if (confirm('Subscribe for ₹50/month?')) {
          setSubscribed(true);
          localStorage.setItem('edu_subscribed', 'true');
          alert('Thank you for subscribing!');
        }
      } else {
        alert('You are already subscribed.');
      }
    }

    return (
      <header className="flex items-center justify-between p-4 md:p-6 border-b border-slate-700">
        <div className="flex items-center gap-3">
          <button
            className="w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-sky-500 flex items-center justify-center font-bold text-slate-900 focus:outline-none"
            onClick={onLogoClick}
            title="Go to subject selection"
          >
            EM
          </button>
          <div>
            <div className="text-lg font-semibold">Edu Mate</div>
            <div className="text-xs text-slate-400">Interactive learning for exam prep</div>
          </div>
        </div>

        <div className="flex items-center gap-3">
          <button
            className="px-3 py-1 rounded-md bg-slate-800 border border-slate-700 text-sm"
            onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
          >
            {theme === 'dark' ? 'Light' : 'Dark'}
          </button>

          <button
            onClick={handleSubscribe}
            className={`px-3 py-1 rounded-md text-sm font-medium ${
              subscribed
                ? 'bg-emerald-600 text-white'
                : 'bg-yellow-400 text-slate-900 hover:bg-yellow-300'
            }`}
          >
            {subscribed ? 'Subscribed ✅' : '₹50/month'}
          </button>

          {user ? (
            <div className="flex items-center gap-2">
              <div className="text-sm text-slate-300">{user.name}</div>
              <button
                className="px-3 py-1 rounded-md bg-red-500 text-white text-sm"
                onClick={onLogout}
              >
                Logout
              </button>
            </div>
          ) : null}
        </div>
      </header>
    );
  }

  // --- Sign In ---
  function SignIn({ onSignIn }) {
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');

    function handleSubmit(e) {
      e.preventDefault();
      if (!name || !email) return alert('Enter name and email');
      onSignIn({ name, email });
    }

    return (
      <div className="max-w-xl mx-auto p-6 mt-8 card rounded-xl shadow-lg">
        <h2 className="text-2xl font-semibold mb-2">Welcome to Edu Mate</h2>
        <p className="text-sm text-slate-400 mb-4">
          Sign in to start your learning journey — choices will be saved locally.
        </p>
        <form onSubmit={handleSubmit} className="space-y-3">
          <input
            className="w-full p-3 rounded-md bg-slate-800 border border-slate-700"
            placeholder="Full name"
            value={name}
            onChange={(e) => setName(e.target.value)}
          />
          <input
            className="w-full p-3 rounded-md bg-slate-800 border border-slate-700"
            placeholder="Email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
          />
          <div className="flex gap-2">
            <button
              type="submit"
              className="px-4 py-2 rounded-md bg-emerald-500 text-slate-900 font-semibold"
            >
              Sign in
            </button>
            <button
              type="button"
              className="px-4 py-2 rounded-md bg-slate-700"
              onClick={() => onSignIn({ name: 'Google User', email: 'user@gmail.com' })}
            >
              Sign in with Google
            </button>
          </div>
        </form>
      </div>
    );
  }

  // --- Step Components ---
  const StepCard = ({ title, subtitle, children }) => (
    <div className="card p-4 rounded-xl shadow-md">
      <div className="mb-2">
        <div className="text-sm text-slate-400">{subtitle}</div>
        <div className="text-lg font-semibold">{title}</div>
      </div>
      {children}
    </div>
  );

  const ExamSelect = ({ exams, onSelect, value, onBack }) => (
    <StepCard title="Pick an exam" subtitle="Choose the exam you want to prepare for">
      <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mt-3">
        {exams.map((e) => (
          <button
            key={e.key}
            onClick={() => onSelect(e.key)}
            className={`p-3 rounded-lg text-left transition-shadow duration-150 border ${
              value === e.key
                ? 'border-emerald-400 bg-emerald-900/30'
                : 'border-slate-700'
            } hover:shadow-lg`}
          >
            <div className="font-semibold">{e.label}</div>
            <div className="text-xs text-slate-400">{e.key.toUpperCase()}</div>
          </button>
        ))}
      </div>
      {onBack && (
        <button
          className="mt-4 px-4 py-2 rounded-md bg-slate-700 text-slate-100"
          onClick={onBack}
        >
          ← Back
        </button>
      )}
    </StepCard>
  );

  const DifficultySelect = ({ onSelect, value, onBack }) => {
    const options = ['Beginner', 'Intermediate', 'Advanced'];
    return (
      <StepCard title="Choose difficulty" subtitle="Pick your learning level">
        <div className="flex gap-3 mt-3">
          {options.map((opt) => (
            <button
              key={opt}
              onClick={() => onSelect(opt.toLowerCase())}
              className={`px-4 py-2 rounded-full transition-transform ${
                value === opt.toLowerCase()
                  ? 'scale-105 bg-sky-500 text-slate-900'
                  : 'bg-slate-800'
              }`}
            >
              {opt}
            </button>
          ))}
        </div>
        {onBack && (
          <button
            className="mt-4 px-4 py-2 rounded-md bg-slate-700 text-slate-100"
            onClick={onBack}
          >
            ← Back
          </button>
        )}
      </StepCard>
    );
  };

  const SubjectSelect = ({ subjects, onSelect, onBack }) => (
    <StepCard title="Subjects" subtitle="Select a subject to see chapters">
      <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mt-3">
        {subjects.map((s) => (
          <button
            key={s}
            onClick={() => onSelect(s)}
            className="p-3 rounded-lg border border-slate-700 hover:shadow-md text-left"
          >
            {s.replace(/_/g, ' ')}
          </button>
        ))}
      </div>
      {onBack && (
        <button
          className="mt-4 px-4 py-2 rounded-md bg-slate-700 text-slate-100"
          onClick={onBack}
        >
          ← Back
        </button>
      )}
    </StepCard>
  );

  const ChapterList = ({ chapters, onSelect, onBack }) => (
    <StepCard title="Chapters" subtitle="Pick a chapter to open">
      <div className="space-y-3 mt-3">
        {chapters.map((ch) => (
          <div
            key={ch.id}
            className="flex items-center justify-between p-3 rounded-lg border border-slate-700"
          >
            <div>
              <div className="font-semibold">{ch.title}</div>
              <div className="text-xs text-slate-400">{ch.id}</div>
            </div>
            <button
              onClick={() => onSelect(ch)}
              className="px-3 py-1 rounded-md bg-emerald-500 text-slate-900"
            >
              Open
            </button>
          </div>
        ))}
      </div>
      {onBack && (
        <button
          className="mt-4 px-4 py-2 rounded-md bg-slate-700 text-slate-100"
          onClick={onBack}
        >
          ← Back
        </button>
      )}
    </StepCard>
  );

  function ChapterDetail({ chapter, onBack }) {
    return (
      <div className="space-y-4">
        <div className="flex items-center justify-between">
          <div>
            <div className="text-xs text-slate-400">Chapter</div>
            <div className="text-2xl font-semibold">{chapter.title}</div>
          </div>
          <button className="px-3 py-1 rounded-md bg-slate-700" onClick={onBack}>
            Back
          </button>
        </div>

        <div className="grid md:grid-cols-3 gap-4">
          <div className="md:col-span-2 card p-4 rounded-lg">
            <div className="aspect-video bg-black rounded-md overflow-hidden">
              <iframe
                className="w-full h-full"
                src={chapter.video}
                title="Reference video"
                frameBorder="0"
                allowFullScreen
              ></iframe>
            </div>
            <div className="mt-4">
              <h3 className="font-semibold">Practice problems</h3>
              <div className="space-y-3 mt-3">
                {chapter.problems && chapter.problems.map((p, idx) => (
                  <div
                    key={idx}
                    className="p-3 rounded-md border border-slate-700 bg-slate-800"
                  >
                    <div className="font-medium">{p.q}</div>
                    <details className="text-slate-400 mt-2">
                      <summary className="cursor-pointer">Show answer</summary>
                      <div className="mt-2">{p.ans}</div>
                    </details>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <aside className="card p-4 rounded-lg">
            <div className="text-sm text-slate-400">Chapter tools</div>
            <div className="mt-3 space-y-3">
              <button className="w-full px-3 py-2 rounded-md bg-emerald-500 text-slate-900">
                Mark as complete
              </button>
              <div className="p-3 rounded-md bg-slate-800 border border-slate-700 text-sm">
                <div className="text-slate-400">Quick facts</div>
                <div className="mt-2">Estimated time: 30 minutes</div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    );
  }

  const Dashboard = ({ state }) => (
    <div className="card p-4 rounded-lg">
      <div className="text-sm text-slate-400">Your dashboard</div>
      <div className="mt-3 grid grid-cols-2 gap-3">
        <div className="p-3 rounded-md bg-slate-800">
          Exam: <div className="font-semibold">{state.exam || '-'}</div>
        </div>
        <div className="p-3 rounded-md bg-slate-800">
          Difficulty: <div className="font-semibold">{state.difficulty || '-'}</div>
        </div>
        <div className="p-3 rounded-md bg-slate-800">
          Subject: <div className="font-semibold">{state.subject || '-'}</div>
        </div>
        <div className="p-3 rounded-md bg-slate-800">
          Chapter: <div className="font-semibold">{state.chapter?.title || '-'}</div>
        </div>
      </div>
    </div>
  );

  function App() {
    const [user, setUser] = useState(null);
    const [exam, setExam] = useState(null);
    const [difficulty, setDifficulty] = useState(null);
    const [subject, setSubject] = useState(null);
    const [chapter, setChapter] = useState(null);
    const [theme, setTheme] = useState('dark');

    useEffect(() => {
      document.body.className =
        theme === 'dark'
          ? 'bg-slate-900 text-slate-100'
          : 'bg-white text-slate-900';
    }, [theme]);

    const handleLogout = () => {
      setUser(null);
      setExam(null);
      setDifficulty(null);
      setSubject(null);
      setChapter(null);
    };

    const subjects = exam ? SAMPLE.subjects[exam] : [];
    const chapters = subject ? SAMPLE.chapters[subject] : [];

    // Handler for logo click: go back to subject selection
    function handleLogoClick() {
      if (subject) {
        setChapter(null);
        setSubject(null);
      }
    }

    return (
      <div className="min-h-screen">
        <Navbar
          user={user}
          onLogout={handleLogout}
          theme={theme}
          setTheme={setTheme}
          onLogoClick={handleLogoClick}
        />
        <main className="max-w-6xl mx-auto p-4 md:p-6 space-y-6">
          {!user ? (
            <SignIn onSignIn={setUser} />
          ) : (
            <div className="grid md:grid-cols-3 gap-6">
              <div className="md:col-span-2 space-y-4">
                <div className="flex items-center gap-2 text-sm text-slate-400">
                  <div className="font-medium">Progress:</div>
                  <div>{user.name}</div>
                  <div>›</div>
                  <div>{exam || 'Exam'}</div>
                  <div>›</div>
                  <div>
                    {difficulty
                      ? difficulty.charAt(0).toUpperCase() + difficulty.slice(1)
                      : 'Difficulty'}
                  </div>
                  <div>›</div>
                  <div>{subject ? subject.replace(/_/g, ' ') : 'Subject'}</div>
                </div>

                {!exam ? (
                  <ExamSelect
                    exams={SAMPLE.exams}
                    onSelect={setExam}
                    value={exam}
                    onBack={() => setUser(null)}
                  />
                ) : !difficulty ? (
                  <DifficultySelect
                    onSelect={setDifficulty}
                    value={difficulty}
                    onBack={() => setExam(null)}
                  />
                ) : !subject ? (
                  <SubjectSelect
                    subjects={subjects}
                    onSelect={setSubject}
                    onBack={() => setDifficulty(null)}
                  />
                ) : !chapter ? (
                  <ChapterList
                    chapters={chapters}
                    onSelect={setChapter}
                    onBack={() => setSubject(null)}
                  />
                ) : (
                  <ChapterDetail
                    chapter={chapter}
                    onBack={() => setChapter(null)}
                  />
                )}
              </div>
              <Dashboard
                state={{ exam, difficulty, subject, chapter }}
              />
            </div>
          )}
        </main>
      </div>
    );
  }

  const root = ReactDOM.createRoot(document.getElementById('root'));
  root.render(<App />);

  </script>
</body>
</html>
