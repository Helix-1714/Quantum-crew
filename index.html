<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Edu Mate — Interactive EdTech</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React + ReactDOM UMD -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      background: radial-gradient(circle at top left, #0f172a, #020617);
      min-height: 100vh;
    }
    .glass {
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }
    .card {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 255, 255, 0.1);
    }
    .btn-glow {
      transition: all 0.25s ease;
      box-shadow: 0 0 12px rgba(56, 189, 248, 0.4);
    }
    .btn-glow:hover {
      transform: scale(1.05);
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.7);
    }
    .gradient-text {
      background: linear-gradient(90deg, #06b6d4, #3b82f6, #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    iframe {
      border-radius: 12px;
    }
  </style>
</head>

<body class="text-slate-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const SAMPLE = {
      exams: [
        { key: 'jee', label: 'JEE (Engineering)' },
        { key: 'neet', label: 'NEET (Medical)' },
        { key: 'cuet', label: 'CUET (University)' },
        { key: 'nda', label: 'NDA (Defence)' },
        { key: 'uceed', label: 'UCEED (Design)' }
      ],
      subjects: {
        jee: ['Mathematics', 'Physics', 'Chemistry'],
        neet: ['Biology', 'Physics', 'Chemistry'],
        cuet: ['General', 'English', 'Domain'],
        nda: ['Physics', 'Mathematics', 'GS'],
        uceed: ['Visualization', 'Design Basics']
      },
      chapters: {
        Mathematics: [
          {
            id: 'm-q',
            title: 'Quadratic Equations',
            video: 'https://www.youtube.com/embed/5NWibE8esMs',
            difficulty: 'easy',
            questions: [
              'If x² + 5x + 6 = 0, what are the roots?',
              'Find the vertex of the parabola y = x² - 4x + 3.'
            ]
          },
          {
            id: 'm-cg',
            title: 'Coordinate Geometry',
            video: 'https://www.youtube.com/embed/sERZmPQKtbw',
            difficulty: 'intermediate',
            questions: [
              'Find the distance between points (2,3) and (5,7).',
              'What is the equation of a circle with center (0,0) and radius 5?'
            ]
          }
        ],
        Physics: [
          {
            id: 'p-kin',
            title: 'Kinematics',
            video: 'https://www.youtube.com/embed/hY9zZrYuDVk',
            difficulty: 'easy',
            questions: [
              'A car accelerates from rest at 2 m/s². What is its velocity after 5 seconds?',
              'Define displacement and give an example.'
            ]
          },
          {
            id: 'p-dyn',
            title: 'Dynamics',
            video: 'https://www.youtube.com/embed/GLEZZdGwuXU',
            difficulty: 'advanced',
            questions: [
              'State Newton’s Second Law of Motion.',
              'A force of 10N acts on a mass of 2kg. What is the acceleration?'
            ]
          }
        ],
        Chemistry: [
          {
            id: 'c-org',
            title: 'Organic Basics',
            video: 'https://www.youtube.com/embed/s0avnWG3nKY',
            difficulty: 'easy',
            questions: [
              'What is the IUPAC name of CH₄?',
              'Define homologous series.'
            ]
          }
        ],
        Biology: [
          {
            id: 'b-phys',
            title: 'Human Physiology',
            video: 'https://www.youtube.com/embed/8qMEmWjt7zg',
            difficulty: 'intermediate',
            questions: [
              'Name the organ that pumps blood in humans.',
              'What is the function of alveoli?'
            ]
          }
        ]
      }
    };

    function Navbar({ user, onLogout, onShowSubscription }) {
      return (
        <header className="glass flex items-center justify-between p-4 md:p-6 shadow-lg">
          <div className="flex items-center gap-3">
            <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center font-bold text-slate-900">EM</div>
            <div>
              <div className="text-lg font-semibold gradient-text">Edu Mate</div>
              <div className="text-xs text-slate-400">Interactive Learning Platform</div>
            </div>
          </div>
          {user && (
            <div className="flex items-center gap-3">
              <span className="text-sm">{user.name}</span>
              <button
                onClick={onShowSubscription}
                className="btn-glow bg-gradient-to-r from-emerald-400 to-sky-400 px-4 py-2 rounded-lg font-semibold text-sm"
              >
                Subscription
              </button>
              <button
                onClick={onLogout}
                className="btn-glow bg-gradient-to-r from-pink-500 to-rose-600 px-4 py-2 rounded-lg font-semibold text-sm"
              >
                Logout
              </button>
            </div>
          )}
        </header>
      );
    }

    function HomePage({ onStart }) {
      return (
        <div className="flex flex-col items-center justify-center text-center min-h-[70vh]">
          <h1 className="text-5xl md:text-6xl font-extrabold mb-4 gradient-text">Welcome to Edu Mate</h1>
          <p className="text-slate-300 mb-8 text-lg">Your personalized learning companion for JEE, NEET, and more.</p>
          <button
            onClick={onStart}
            className="btn-glow bg-gradient-to-r from-cyan-400 to-blue-500 text-slate-900 font-semibold px-8 py-3 rounded-full"
          >
            Start Learning →
          </button>
        </div>
      );
    }

    function SignIn({ onSignIn }) {
      const [name, setName] = useState('');
      const [email, setEmail] = useState('');

      function handleSubmit(e) {
        e.preventDefault();
        if (!name || !email) return alert('Enter name and email');
        onSignIn({ name, email });
      }

      return (
        <div className="max-w-md mx-auto mt-10 p-6 card rounded-2xl">
          <h2 className="text-2xl font-bold gradient-text mb-2">Sign In</h2>
          <p className="text-slate-400 mb-4">Enter your details to continue</p>
          <form onSubmit={handleSubmit} className="space-y-3">
            <input
              className="w-full p-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-400"
              placeholder="Full name"
              value={name}
              onChange={(e) => setName(e.target.value)}
            />
            <input
              className="w-full p-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-400"
              placeholder="Email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
            />
            <button
              type="submit"
              className="btn-glow w-full bg-gradient-to-r from-cyan-400 to-blue-500 text-slate-900 font-semibold py-3 rounded-full"
            >
              Sign In
            </button>
          </form>
        </div>
      );
    }

    function ExamSelect({ exams, onSelect }) {
      return (
        <div className="max-w-3xl mx-auto mt-8">
          <h2 className="text-3xl font-semibold mb-4 gradient-text text-center">Choose Your Exam</h2>
          <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
            {exams.map((e) => (
              <button
                key={e.key}
                onClick={() => onSelect(e.key)}
                className="p-4 rounded-xl bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-cyan-400 transition-all"
              >
                <div className="font-semibold text-lg">{e.label}</div>
              </button>
            ))}
          </div>
        </div>
      );
    }

    function DifficultySelect({ onSelect, value }) {
      const options = ['easy', 'intermediate', 'advanced'];
      return (
        <div className="max-w-md mx-auto mt-8">
          <h2 className="text-2xl font-semibold mb-4 gradient-text text-center">Select Difficulty</h2>
          <div className="flex justify-center gap-4">
            {options.map(opt => (
              <button
                key={opt}
                onClick={() => onSelect(opt)}
                className={`px-6 py-3 rounded-full font-semibold transition-all
                  ${value === opt
                    ? 'bg-gradient-to-r from-emerald-400 to-sky-400 text-slate-900 scale-105'
                    : 'bg-slate-800 text-slate-100'}
                  btn-glow`}
              >
                {opt.charAt(0).toUpperCase() + opt.slice(1)}
              </button>
            ))}
          </div>
        </div>
      );
    }

    function SubjectSelect({ subjects, onSelect }) {
      return (
        <div className="max-w-md mx-auto mt-8">
          <h2 className="text-2xl font-semibold mb-4 gradient-text text-center">Select Subject</h2>
          <div className="flex flex-wrap justify-center gap-4">
            {subjects.map(sub => (
              <button
                key={sub}
                onClick={() => onSelect(sub)}
                className="px-6 py-3 rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 text-slate-900 font-semibold btn-glow"
              >
                {sub}
              </button>
            ))}
          </div>
        </div>
      );
    }

    function ChapterList({ chapters, onSelect, onBack }) {
      return (
        <div className="max-w-4xl mx-auto mt-8 space-y-4">
          <div className="flex justify-between items-center">
            <h2 className="text-3xl font-semibold gradient-text">Select Chapter</h2>
            <button className="bg-slate-700 px-3 py-1 rounded-md" onClick={onBack}>← Back</button>
          </div>
          <div className="grid md:grid-cols-2 gap-4">
            {chapters.map((ch) => (
              <div key={ch.id} className="card p-4 rounded-xl">
                <h3 className="font-semibold text-lg mb-2">{ch.title}</h3>
                <button
                  onClick={() => onSelect(ch)}
                  className="btn-glow bg-gradient-to-r from-emerald-400 to-sky-400 px-4 py-2 rounded-md text-slate-900 font-semibold"
                >
                  Open
                </button>
                <div className="mt-3">
                  <div className="font-semibold text-slate-300 mb-1">Sample Questions:</div>
                  <ul className="list-disc pl-5 text-slate-400 text-sm">
                    {ch.questions && ch.questions.map((q, idx) => (
                      <li key={idx}>{q}</li>
                    ))}
                  </ul>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    }

    function ChapterDetail({ chapter, onBack }) {
      return (
        <div className="max-w-5xl mx-auto mt-8 space-y-4">
          <div className="flex justify-between items-center">
            <h2 className="text-3xl font-semibold gradient-text">{chapter.title}</h2>
            <button className="bg-slate-700 px-3 py-1 rounded-md" onClick={onBack}>← Back</button>
          </div>
          <div className="aspect-video bg-black rounded-lg overflow-hidden">
            <iframe
              src={chapter.video}
              title={chapter.title}
              className="w-full h-full"
              allowFullScreen
            ></iframe>
          </div>
        </div>
      );
    }

    // Subscription Modal
    function SubscriptionModal({ show, onClose, onSubscribe }) {
      if (!show) return null;
      return (
        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
          <div className="bg-white text-slate-900 rounded-xl shadow-lg max-w-md w-full p-6 relative">
            <button className="absolute top-2 right-2 text-slate-500" onClick={onClose}>✕</button>
            <h2 className="text-2xl font-bold mb-2 gradient-text">Subscription Plans</h2>
            <p className="mb-4 text-slate-600">Unlock premium features with a subscription:</p>
            <div className="space-y-4">
              <div className="border rounded-lg p-4 bg-gradient-to-r from-cyan-100 to-blue-100">
                <div className="flex justify-between items-center">
                  <div>
                    <div className="font-semibold text-lg">Monthly Plan</div>
                    <div className="text-slate-500">₹50/month</div>
                  </div>
                  <button className="px-4 py-2 rounded-md bg-emerald-500 text-white font-semibold"
                    onClick={() => onSubscribe('monthly')}
                  >Subscribe</button>
                </div>
                <ul className="mt-2 text-sm text-slate-600 list-disc pl-5">
                  <li>Access all chapters and subjects</li>
                  <li>Unlimited practice problems</li>
                  <li>Priority support</li>
                  <li>Progress sync across devices</li>
                </ul>
              </div>
              <div className="border rounded-lg p-4 bg-gradient-to-r from-violet-100 to-pink-100">
                <div className="flex justify-between items-center">
                  <div>
                    <div className="font-semibold text-lg">Yearly Plan</div>
                    <div className="text-slate-500">₹500/year</div>
                  </div>
                  <button className="px-4 py-2 rounded-md bg-sky-500 text-white font-semibold"
                    onClick={() => onSubscribe('yearly')}
                  >Subscribe</button>
                </div>
                <ul className="mt-2 text-sm text-slate-600 list-disc pl-5">
                  <li>All monthly features</li>
                  <li>2 months free (save ₹100)</li>
                  <li>Early access to new tools</li>
                  <li>Exclusive webinars</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Payment Page (UPI/QR)
    function SubscribePage({ plan, onBack }) {
      if (!plan) return null;
      return (
        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
          <div className="bg-white text-slate-900 rounded-xl shadow-lg max-w-md w-full p-6 relative">
            <button className="absolute top-2 right-2 text-slate-500" onClick={onBack}>✕</button>
            <h2 className="text-2xl font-bold mb-2 gradient-text">Subscribe: {plan === 'monthly' ? 'Monthly Plan' : 'Yearly Plan'}</h2>
            <div className="mb-4 text-slate-600">
              {plan === 'monthly' ? '₹50/month' : '₹500/year'}
            </div>
            <div className="mb-4">
              <ul className="text-sm text-slate-600 list-disc pl-5">
                {plan === 'monthly' ? (
                  <>
                    <li>Access all chapters and subjects</li>
                    <li>Unlimited practice problems</li>
                    <li>Priority support</li>
                    <li>Progress sync across devices</li>
                  </>
                ) : (
                  <>
                    <li>All monthly features</li>
                    <li>2 months free (save ₹100)</li>
                    <li>Early access to new tools</li>
                    <li>Exclusive webinars</li>
                  </>
                )}
              </ul>
            </div>
            <div className="space-y-4">
              <div>
                <label className="block mb-2 font-semibold">Enter UPI Address</label>
                <input className="w-full p-3 rounded-md bg-slate-100 border border-slate-300" placeholder="your-upi@bank" />
              </div>
              <div className="flex flex-col items-center">
                <span className="mb-2 text-sm text-slate-500">Or scan this QR code to pay (demo)</span>
                <div className="w-32 h-32 bg-slate-200 flex items-center justify-center rounded-md">
                  {/* Fake QR code UI */}
                  <svg width="80" height="80">
                    <rect x="0" y="0" width="80" height="80" fill="#e2e8f0" />
                    <rect x="10" y="10" width="20" height="20" fill="#0ea5e9" />
                    <rect x="50" y="10" width="20" height="20" fill="#0ea5e9" />
                    <rect x="10" y="50" width="20" height="20" fill="#0ea5e9" />
                    <rect x="50" y="50" width="20" height="20" fill="#0ea5e9" />
                    <rect x="35" y="35" width="10" height="10" fill="#64748b" />
                  </svg>
                </div>
              </div>
              <button type="button" className="w-full px-4 py-2 rounded-md bg-emerald-500 text-white font-semibold">Pay & Subscribe</button>
            </div>
          </div>
        </div>
      );
    }

    function App() {
      const [user, setUser] = useState(null);
      const [started, setStarted] = useState(false);
      const [exam, setExam] = useState(null);
      const [difficulty, setDifficulty] = useState(null);
      const [subject, setSubject] = useState(null);
      const [chapter, setChapter] = useState(null);
      const [showSubscription, setShowSubscription] = useState(false);
      const [subscribePlan, setSubscribePlan] = useState(null);

      function handleLogout() {
        setUser(null);
        setStarted(false);
        setExam(null);
        setDifficulty(null);
        setSubject(null);
        setChapter(null);
      }

      // Get subjects for selected exam
      const subjects = exam ? SAMPLE.subjects[exam] || [] : [];
      // Filter chapters for selected subject and difficulty
      const chapters =
        subject && SAMPLE.chapters[subject]
          ? SAMPLE.chapters[subject].filter(
              ch =>
                !difficulty ||
                !ch.difficulty ||
                ch.difficulty === difficulty
            )
          : [];

      if (!started)
        return (
          <>
            <Navbar user={user} onLogout={handleLogout} onShowSubscription={() => setShowSubscription(true)} />
            <HomePage onStart={() => setStarted(true)} />
            <SubscriptionModal
              show={showSubscription}
              onClose={() => setShowSubscription(false)}
              onSubscribe={plan => { setShowSubscription(false); setSubscribePlan(plan); }}
            />
            <SubscribePage
              plan={subscribePlan}
              onBack={() => setSubscribePlan(null)}
            />
          </>
        );

      return (
        <div>
          <Navbar user={user} onLogout={handleLogout} onShowSubscription={() => setShowSubscription(true)} />
          <SubscriptionModal
            show={showSubscription}
            onClose={() => setShowSubscription(false)}
            onSubscribe={plan => { setShowSubscription(false); setSubscribePlan(plan); }}
          />
          <SubscribePage
            plan={subscribePlan}
            onBack={() => setSubscribePlan(null)}
          />
          {!user ? (
            <SignIn onSignIn={(u) => setUser(u)} />
          ) : !exam ? (
            <ExamSelect exams={SAMPLE.exams} onSelect={setExam} />
          ) : !difficulty ? (
            <DifficultySelect onSelect={setDifficulty} value={difficulty} />
          ) : !subject ? (
            <SubjectSelect subjects={subjects} onSelect={setSubject} />
          ) : !chapter ? (
            <ChapterList
              chapters={chapters}
              onSelect={setChapter}
              onBack={() => setSubject(null)}
            />
          ) : (
            <ChapterDetail chapter={chapter} onBack={() => setChapter(null)} />
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
