<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Edu Mate — Interactive EdTech (React + Tailwind CDN)</title>
  <!-- Tailwind CDN (play) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React + ReactDOM UMD (for quick demo) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel for JSX in browser (only for demo/prototyping) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* small extra styles */
    .glass { background: rgba(255,255,255,0.03); }
    .card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
  </style>
</head>
<body class="bg-slate-900 text-slate-100">
  <div id="root"></div>

  <script type="text/babel">
  const { useState, useEffect } = React;

  const SAMPLE = {
    exams: [
      { key: 'jee', label: 'JEE (Engineering)' },
      { key: 'neet', label: 'NEET (Medical)' },
      { key: 'cuet', label: 'CUET (University)' },
      { key: 'nda', label: 'NDA (Defence)' },
      { key: 'uceed', label: 'UCEED (Design)' }
    ],
    subjects: {
      jee: ['Mathematics', 'Physics', 'Chemistry'],
      neet: ['Biology', 'Physics', 'Chemistry'],
      cuet: ['General', 'English', 'Domain'],
      nda: ['Physics', 'Mathematics', 'GS'],
      uceed: ['Visualization', 'Design Basics']
    },
    chapters: {
      Mathematics: [
        // Use YouTube embed URLs so the iframe can load them directly
        { id: 'm-q', title: 'Quadratic Equations', video: 'https://www.youtube.com/embed/5NWibE8esMs' },
        { id: 'm-cg', title: 'Coordinate Geometry', video: 'https://www.youtube.com/embed/sERZmPQKtbw' }
      ],
      Physics: [
        { id: 'p-kin', title: 'Kinematics', video: 'https://www.youtube.com/embed/hY9zZrYuDVk' },
        { id: 'p-dyn', title: 'Dynamics', video: 'https://www.youtube.com/embed/GLEZZdGwuXU' }
      ],
      Chemistry: [
        { id: 'c-org', title: 'Organic Basics', video: 'https://www.youtube.com/embed/s0avnWG3nKY' }
      ],
      Biology: [
        { id: 'b-phys', title: 'Human Physiology', video: 'https://www.youtube.com/embed/8qMEmWjt7zg' }
      ]
    }
  };

  function Navbar({ user, onLogout, theme, setTheme }){
    return (
      <header className="flex items-center justify-between p-4 md:p-6 border-b border-slate-700">
        <div className="flex items-center gap-3">
          <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-sky-500 flex items-center justify-center font-bold text-slate-900">EM</div>
          <div>
            <div className="text-lg font-semibold">Edu Mate</div>
            <div className="text-xs text-slate-400">Interactive learning for exam prep</div>
          </div>
        </div>
        <div className="flex items-center gap-3">
          <button className="px-3 py-1 rounded-md bg-slate-800 border border-slate-700 text-sm" onClick={()=> setTheme(theme === 'dark' ? 'light' : 'dark') }>
            {theme === 'dark' ? 'Light' : 'Dark'}
          </button>
          {user ? (
            <div className="flex items-center gap-2">
              <div className="text-sm text-slate-300">{user.name}</div>
              <button className="px-3 py-1 rounded-md bg-red-500 text-white text-sm" onClick={onLogout}>Logout</button>
            </div>
          ) : null}
        </div>
      </header>
    );
  }

  function SignIn({ onSignIn }){
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');

    function handleSubmit(e){
      e.preventDefault();
      if(!name || !email) return alert('Enter name and email');
      const user = { name, email };
      onSignIn(user);
    }

    return (
      <div className="max-w-xl mx-auto p-6 mt-8 card rounded-xl shadow-lg">
        <h2 className="text-2xl font-semibold mb-2">Welcome to Edu Mate</h2>
        <p className="text-sm text-slate-400 mb-4">Sign in to start your learning journey — choices will be saved locally.</p>
        <form onSubmit={handleSubmit} className="space-y-3">
          <input className="w-full p-3 rounded-md bg-slate-800 border border-slate-700" placeholder="Full name" value={name} onChange={e=>setName(e.target.value)} />
          <input className="w-full p-3 rounded-md bg-slate-800 border border-slate-700" placeholder="Email" value={email} onChange={e=>setEmail(e.target.value)} />
          <div className="flex gap-2">
            <button type="submit" className="px-4 py-2 rounded-md bg-emerald-500 text-slate-900 font-semibold">Sign in</button>
            <button type="button" className="px-4 py-2 rounded-md bg-slate-700" onClick={()=>{ /* fake google signin */ const fake = { name: 'Google User', email: 'user@gmail.com' }; onSignIn(fake); }}>Sign in with Google</button>
          </div>
        </form>
      </div>
    );
  }

  function StepCard({ title, subtitle, children }){
    return (
      <div className="card p-4 rounded-xl shadow-md">
        <div className="mb-2">
          <div className="text-sm text-slate-400">{subtitle}</div>
          <div className="text-lg font-semibold">{title}</div>
        </div>
        <div>{children}</div>
      </div>
    );
  }

  function ExamSelect({ exams, onSelect, value }){
    return (
      <StepCard title="Pick an exam" subtitle="Choose the exam you want to prepare for">
        <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mt-3">
          {exams.map(e=> (
            <button key={e.key} onClick={()=>onSelect(e.key)} className={p-3 rounded-lg text-left transition-shadow duration-150 border ${value === e.key ? 'border-emerald-400 bg-emerald-900/30' : 'border-slate-700'} hover:shadow-lg }>
              <div className="font-semibold">{e.label}</div>
              <div className="text-xs text-slate-400">{e.key.toUpperCase()}</div>
            </button>
          ))}
        </div>
      </StepCard>
    );
  }

  function DifficultySelect({ onSelect, value }){
    const options = ['Beginner','Intermediate','Advanced'];
    return (
      <StepCard title="Choose difficulty" subtitle="Pick your learning level">
        <div className="flex gap-3 mt-3">
          {options.map(opt=> (
            <button key={opt} onClick={()=>onSelect(opt.toLowerCase())} className={px-4 py-2 rounded-full transition-transform ${value === opt.toLowerCase() ? 'scale-105 bg-sky-500 text-slate-900' : 'bg-slate-800'}}>{opt}</button>
          ))}
        </div>
      </StepCard>
    );
  }

  function SubjectSelect({ subjects, onSelect }){
    return (
      <StepCard title="Subjects" subtitle="Select a subject to see chapters">
        <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mt-3">
          {subjects.map(s=> (
            <button key={s} onClick={()=>onSelect(s)} className="p-3 rounded-lg border border-slate-700 hover:shadow-md text-left">{s}</button>
          ))}
        </div>
      </StepCard>
    );
  }

  function ChapterList({ chapters, onSelect }){
    return (
      <StepCard title="Chapters" subtitle="Pick a chapter to open">
        <div className="space-y-3 mt-3">
          {chapters.map(ch=> (
            <div key={ch.id} className="flex items-center justify-between p-3 rounded-lg border border-slate-700">
              <div>
                <div className="font-semibold">{ch.title}</div>
                <div className="text-xs text-slate-400">{ch.id}</div>
              </div>
              <div>
                <button onClick={()=>onSelect(ch)} className="px-3 py-1 rounded-md bg-emerald-500 text-slate-900">Open</button>
              </div>
            </div>
          ))}
        </div>
      </StepCard>
    );
  }

  function ChapterDetail({ chapter, onBack }){
    // Sample problems
    const problems = [
      { id: 'p1', q: 'Solve x^2 -5x +6 = 0', ans: '2 or 3' },
      { id: 'p2', q: 'Find derivative of x^2', ans: '2x' }
    ];

    return (
      <div className="space-y-4">
        <div className="flex items-center justify-between">
          <div>
            <div className="text-xs text-slate-400">Chapter</div>
            <div className="text-2xl font-semibold">{chapter.title}</div>
          </div>
          <div>
            <button className="px-3 py-1 rounded-md bg-slate-700" onClick={onBack}>Back</button>
          </div>
        </div>

        <div className="grid md:grid-cols-3 gap-4">
          <div className="md:col-span-2 card p-4 rounded-lg">
            <div className="aspect-video bg-black rounded-md overflow-hidden">
              <iframe
                className="w-full h-full"
                src={chapter.video}
                title="Reference video"
                frameBorder="0"
                loading="lazy"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowFullScreen
              ></iframe>
            </div>
            <div className="mt-4">
              <h3 className="font-semibold">Practice problems</h3>
              <div className="space-y-3 mt-3">
                {problems.map(p=> (
                  <div key={p.id} className="p-3 rounded-md border border-slate-700 bg-slate-800">
                    <div className="font-medium">{p.q}</div>
                    <details className="text-slate-400 mt-2"><summary className="cursor-pointer">Show answer</summary><div className="mt-2">{p.ans}</div></details>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <aside className="card p-4 rounded-lg">
            <div className="text-sm text-slate-400">Chapter tools</div>
            <div className="mt-3 space-y-3">
              <button className="w-full px-3 py-2 rounded-md bg-emerald-500 text-slate-900">Mark as complete</button>
              <div className="p-3 rounded-md bg-slate-800 border border-slate-700">
                <div className="text-sm text-slate-400">Quick facts</div>
                <div className="mt-2 text-sm">Estimated time: 30 minutes</div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    );
  }

  function Dashboard({ state }){
    return (
      <div className="card p-4 rounded-lg">
        <div className="text-sm text-slate-400">Your dashboard</div>
        <div className="mt-3 grid grid-cols-2 gap-3">
          <div className="p-3 rounded-md bg-slate-800">Exam: <div className="font-semibold">{state.exam || '-'}</div></div>
          <div className="p-3 rounded-md bg-slate-800">Difficulty: <div className="font-semibold">{state.difficulty || '-'}</div></div>
          <div className="p-3 rounded-md bg-slate-800">Subject: <div className="font-semibold">{state.subject || '-'}</div></div>
          <div className="p-3 rounded-md bg-slate-800">Chapter: <div className="font-semibold">{state.chapter?.title || '-'}</div></div>
        </div>
      </div>
    );
  }

  function App(){
    const [user, setUser] = useState(() => JSON.parse(localStorage.getItem('edu_user')||'null'));
    const [exam, setExam] = useState(() => localStorage.getItem('edu_exam') || null);
    const [difficulty, setDifficulty] = useState(() => localStorage.getItem('edu_difficulty') || null);
    const [subject, setSubject] = useState(() => localStorage.getItem('edu_subject') || null);
    const [chapter, setChapter] = useState(() => JSON.parse(localStorage.getItem('edu_chapter')||'null'));
    const [theme, setTheme] = useState(() => localStorage.getItem('edu_theme') || 'dark');

    useEffect(()=>{
      document.documentElement.classList.remove('light','dark');
      document.documentElement.classList.add(theme === 'dark' ? 'dark' : 'light');
      if(theme === 'light'){
        document.body.classList.remove('bg-slate-900','text-slate-100');
        document.body.classList.add('bg-white','text-slate-900');
      } else {
        document.body.classList.remove('bg-white','text-slate-900');
        document.body.classList.add('bg-slate-900','text-slate-100');
      }
      localStorage.setItem('edu_theme', theme);
    }, [theme]);

    useEffect(()=>{ localStorage.setItem('edu_user', JSON.stringify(user)); }, [user]);
    useEffect(()=>{ if(exam) localStorage.setItem('edu_exam', exam); }, [exam]);
    useEffect(()=>{ if(difficulty) localStorage.setItem('edu_difficulty', difficulty); }, [difficulty]);
    useEffect(()=>{ if(subject) localStorage.setItem('edu_subject', subject); }, [subject]);
    useEffect(()=>{ localStorage.setItem('edu_chapter', JSON.stringify(chapter)); }, [chapter]);

    function handleLogout(){ setUser(null); setExam(null); setDifficulty(null); setSubject(null); setChapter(null); localStorage.clear(); }

    // derived lists
    const subjects = exam ? (SAMPLE.subjects[exam] || []) : [];
    const chapters = subject ? (SAMPLE.chapters[subject] || []) : [];

    return (
      <div className="min-h-screen">
        <Navbar user={user} onLogout={handleLogout} theme={theme} setTheme={setTheme} />
        <main className="max-w-6xl mx-auto p-4 md:p-6 space-y-6">

          {!user ? (
            <SignIn onSignIn={(u)=> setUser(u)} />
          ) : (
            <div className="grid md:grid-cols-3 gap-6">
              <div className="md:col-span-2 space-y-4">
                {/* Breadcrumbs / progress */}
                <div className="flex items-center gap-2 text-sm text-slate-400">
                  <div className="font-medium">Progress:</div>
                  <div>{user.name}</div>
                  <div>›</div>
                  <div>{exam || 'Exam'}</div>
                  <div>›</div>
                  <div>{difficulty ? difficulty.charAt(0).toUpperCase()+difficulty.slice(1) : 'Difficulty'}</div>
                  <div>›</div>
                  <div>{subject || 'Subject'}</div>
                  <div>›</div>
                  <div>{chapter ? chapter.title : 'Chapter'}</div>
                </div>

                {/* Flow */}
                {!exam ? (
                  <ExamSelect exams={SAMPLE.exams} onSelect={(k)=> setExam(k)} value={exam} />
                ) : !difficulty ? (
                  <DifficultySelect onSelect={(d)=> setDifficulty(d)} value={difficulty} />
                ) : !subject ? (
                  <SubjectSelect subjects={subjects} onSelect={(s)=> setSubject(s)} />
                ) : !chapter ? (
                  <ChapterList chapters={chapters} onSelect={(c)=> setChapter(c)} />
                ) : (
                  <ChapterDetail chapter={chapter} onBack={()=> setChapter(null)} />
                )}

              </div>

              <aside className="space-y-4">
                <Dashboard state={{ exam, difficulty, subject, chapter }} />

                <div className="card p-4 rounded-lg">
                  <div className="text-sm text-slate-400">Quick actions</div>
                  <div className="mt-3 flex flex-col gap-2">
                    <button className="px-3 py-2 rounded-md bg-sky-500 text-slate-900" onClick={()=>{ alert('Progress saved locally'); }}>Save progress</button>
                    <button className="px-3 py-2 rounded-md bg-slate-700" onClick={()=>{ setExam(null); setDifficulty(null); setSubject(null); setChapter(null); }}>Reset flow</button>
                  </div>
                </div>

                <div className="card p-4 rounded-lg">
                  <div className="text-sm text-slate-400">About</div>
                  <div className="mt-2 text-xs">This demo uses React + Tailwind via CDN for quick prototyping. Replace the sample data with your API for production.</div>
                </div>
              </aside>
            </div>
          )}

        </main>
        <footer className="text-center text-xs text-slate-400 p-4">Edu Mate — demo • data stored in localStorage • Responsive + theme toggle</footer>
      </div>
    );
  }

  ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
